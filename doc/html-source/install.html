    <!-- Dependencies +++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="dependencies"></A><HR>
    <H1 ALIGN="CENTER">Dependencies</H1>
    <HR WIDTH="70%">

    <p>
      Several scripts need the python3 PyYaml package at
      http://pyyaml.org/wiki/PyYAML.
    </p>

    <P>
      To use LIRC's <em>lirc-setup</em> script you need the dialog
      package. It already should be installed on most systems. The
      lirc-setup script makes configuration of LIRC much easier but
      using it is not mandatory.
    </P>

    <P>
      If you want to compile and use all tools, you also need an
      installed <em>svgalib</em> (used by <em>smode2</em>) and the X
      Windows header files (needed by <em>irxevent</em> and
      <em>xmode2</em>). You can get svgalib from <A
        HREF="ftp://sunsite.unc.edu/pub/Linux/libs/graphics/">
        ftp://sunsite.unc.edu/pub/Linux/libs/graphics/</A>. The
      configure script will notify you if some necessary files are
      missing and the according tools won't be compiled.
    </P>

    <P>
      <B>Irman (=UIR) :</B> To use your Irman with LIRC you need the
      latest <A HREF="http://www.lirc.org/software/snapshots/">
      <em>libirman</em></A> library. At the time this has been written
      the current libirman version was 0.4.3. Former versions won't
      work. Please also read <A HREF="#updating">Updating from
      lirc-0.5.4</A>.
    </P>

    <A NAME="kernel"></A>
    <P>
      If you want to use a home-brew receiver, an Anir Multimedia
      Magic, a Packard Bell receiver, the IRdeo or if you want to use
      the SIR IrDA driver, I suggest that you compile the Linux kernel
      serial port driver as a module (however, you can choose not to
      do so if you use setserial properly, see below). The according
      kernel option that should be set to <em>M</em> is
      <em>Standard/generic (dumb) serial support</em>
      (resp. <em>Standard/generic (8250/16550 and compatible UARTs)
      serial support</em> for 2.4 kernels) in the <em>Character
      devices</em> section of the kernel configuration
      dialogue. Usually the serial port driver grabs all ports it
      auto-detects as soon as it is loaded and the LIRC modules won't
      be able to use any of them.
    </P>

    <P>
      There are two solutions for this problem. Either you load the
      LIRC module before the kernel serial port driver is loaded
      (that's why you have to compile it as a module) or you call
      <em>setserial /dev/ttySx uart none</em> to release the according
      port. setserial usually is already called during boot-up in some
      init script whose location depends on the distribution you
      use. Be aware that setserial might also be the cause of
      trouble. The reason for this is a kernel bug (known to be true
      for 2.2.20, patches are on the way). If you tell setserial to
      configure a port that is already claimed by a LIRC module, the
      kernel serial driver will steal the port from the LIRC module
      and LIRC will stop working. So check your setserial
      configuration to only configure available ports. Debian users
      should adjust their <em>/etc/serial.conf</em>.
    </P>

    <P>
      <B>TV cards:</B> To use any remote control receivers connected
      directly to a bttv based TV card you will need a working bttv
      setup in your kernel. For most TV cards we rely on bttv
      autodetection. That way you don't have to give any parameters to
      the module as they are selected internally depending on the
      information the bttv module gives us. This means that you should
      pay attention that your TV card is detected correctly by bttv.
    </P>
    <P>
      <B>Technisat MediaFocus I:</B> You will have to install the <A
        HREF="http://freenet-homepage.de/mediafocus/">driver</A> for this
      card.
    </P>

    <!-- Supported Hardware ++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="hardware"></A><HR>
    <H1 ALIGN="CENTER">Supported Hardware</H1>
    <HR WIDTH="70%">

    <P>
      Generally speaking everything that can receive or send infrared
      signals can be supported by LIRC. The project began with support
      for home-brew receivers and transmitters for the serial port and
      later support for analogous hardware for the parallel port was
      added. At that time the focus of the project was to provide an
      infrared solution that is both very cheap and easy to
      assemble. The following links point to instructions how to build
      your own receiver/transmitter.
    </P>

    <UL>
      <LI><A HREF="http://www.lirc.org/receivers.html">
          Building a serial port receiver</A></LI>
      <LI><A HREF="http://www.lirc.org/transmitters.html">
          Building a serial port transmitter</A></LI>
      <LI><A HREF="http://www.lirc.org/parallel.html">
          Building a parallel port transceiver</A></LI>
    </UL>

    <P>
      Current versions of LIRC now support many more commercially
      available solutions. Examples are the Irman, built-in IrDA ports
      or TV cards. Drivers for even more hardware are likely to appear
      in the future. If you are a programmer who wants to maintain
      such a driver you are welcome to join the project.
    </P>
    <P>
      You should locate your device in this <A HREF="table.html">list
      of supported devices</A> and see if there is additional
      information available regarding the setup of your device.
    </P>

    <!-- Compiling +++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="compiling"></A><HR>
    <H1 ALIGN="CENTER">Compiling</H1>
    <HR WIDTH="70%">
    <p>
    Contrary to earlier versions, lirc nowadays always compiles all available
    user-space drivers and no kernel drivers. So the bulid procedure is
    the generic one:
    <ul>
        <li> autoreconf -fi </li>
        <li> ./configure --enable-debug --with-syslog=LOG_DAEMON. </li>
        <li> make </li>
        <li> make install </li>
    </ul>
    To aid in the process to configure lirc there is the script lirc-setup.
    This is applied after lirc is installed.
    </p>


    <!-- Install LIRC ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="installing"></A><HR>
    <H1 ALIGN="CENTER">Installation</H1>
    <HR WIDTH="70%">

    <P>
      Installing the compiled programs is really easy, just type
      <em>make install</em>. All binaries, modules pipes and
      documentation should be installed at the usual places.
    </P>

    <P>
      When you are using <em>devfs</em> or <em>sysfs</em> with your
      kernel, the /dev/lirc device node will disappear again once you
      reboot your machine. In that case the LIRC kernel module will
      generate the required entry every time it is loaded. But the
      device node won't be visible as /dev/lirc, but might be located
      in a different location like e.g. /dev/lirc/0. Please be aware
      of this fact when starting programs that access the device node
      like mode2 or lircd. You will have to use the --device command
      line option of these programs to point them to the correct
      location. When using sysfs together with the udev daemon you
      should copy the <em>lirc.rules</em> file located in the contrib
      directory of the source package to
      <em>/etc/udev/rules.d/</em>. This will make sure that the device
      node will be created.
    </P>

    <P>
      The core program of LIRC is <em>lircd</em>, the LIRC system
      daemon that does all of the decoding of infrared signals. LIRC
      comes with a second daemon program: <em>lircmd</em>. lircmd
      depends on lircd and translates remote control activity to mouse
      movements. Just like all other daemons both lircd and lircmd
      should be started at system boot time and do their work in
      background. If you want to start them automatically at boot time
      you will have to add an init script for them to your
      system. As distributed, lirc installs systemd services which should
      be usable on many Linux systems. There is also various sysV init
      files int the contrib directory which miht be useful in other
      contexts.
    </P>

    <P>
      <B>Warning:</B> Never compile daemons with &quot;Disable
      daemonize&quot; turned on and place them in some init script
      unless you have a rescue disc nearby... (unless you are using
      systemd, which handles this just fine.)
    </P>

    <P>
      You might want to adjust the file permissions of
      <em>/var/run/lirc/lircd</em> (this is the Unix domain socket that clients
      use to connect to lircd). As distributed this is 666 i. e., anyone
      can read and write. Edit /etc/lirc/lirc_options.conf to fix.
      You can also create a special group for this purpose.
    </P>
    <P>
      If your driver requires some special parameters to work you can
      specify them  in a modprobe.d config file. lirc-setup creates
      such a file in certain cases, typically for setting irq
      and I/O base. It might look something like:
    <PRE>
        options lirc_serial irq=4 io=0x3e8</PRE>
    <P>
      This will override the kernel builtin default values. The
      command modinfo(8) is ueful to investigate module options.
    </P>

    <P>
      Finally you might want to add <em>/usr/local/lib</em> to
      <em>/etc/ld.so.conf</em> so the <em>lirc_client</em> library is
      found by the run-time linker. Don't forget to call
      <em>ldconfig</em> afterwards for the change to take effect.
    </P>

    <!-- Testing +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="testing"></A><HR>
    <H1 ALIGN="CENTER">Testing your hardware &amp; configuration</H1>
    <HR WIDTH="70%">

    <P>
      If you have build the infrared hardware yourself you are
      probably eager to find out if it really works. If you have not
      build the hardware yourself you can skip the first test. For
      most receivers it even won't work because it makes no
      sense.
    </P>

    <P>
      Type <em>su</em> to get root privileges and start <em>mode2</em>
      (<B>Warning:</B> don't confuse mode2 with mode3: mode3 will set
      your video card to a vesa mode using the vesa bios
      calls...). This should load the kernel module into the kernel
      and display the infrared signals. Hold your remote control to
      your infrared receiver and press some buttons. You should see an
      output like this (the values of your remote will probably be
      different):
    </P>

    <PRE>
        pulse 93
        space 4965
        pulse 108
        space 4969
        pulse 93
        space 7496
        pulse 93
        space 7489
        pulse 93
        space 47915
        pulse 138
        space 7475
        pulse 93
        space 7494
        pulse 93</PRE>
    <P>
      If you don't see anything, try to find out: (a) if you selected
      the correct driver with the correct settings (I/O base address,
      IRQ), (b) if you use a remote which works and (c) if your
      hardware works. The voltage input of the infrared receiver
      should be 5V +/- 0.5V, the output pin of the receiver should be
      about 0.5V less than the input voltage.
    </P>

    <P>
      From time to time there should be long spaces (&gt;30000). If you
      can see very long pulses this usually means that sense auto
      detection of your serial port IR receiver circuit has
      failed. You can override sense auto detection by loading the
      device driver with the following option:</P>

    <P>
      <em>modprobe lirc_serial sense=0</em> if your receiver circuit is active
      high or<BR>

      <em>modprobe lirc_serial sense=1</em> if your receiver circuit is active
      low.
    </P>

    <P>
      Well, the driver seems to work, now let's test if lircd also
      does its job. This only works, if lircd uses a <A
      HREF="configure.html#lircd.conf">config file</A> which fits to
      your remote control. Use <A
      HREF="irrecord.html"><em>irrecord</em></A> in the case the LIRC
      distribution doesn't provide a config file suitable for your
      remote and it still is not available at the LIRC homepage. A
      more detailed discussion of creating new config files is
      available in the section about, you guess it: <A
      HREF="help.html#new_remote">Adding new remote controls</A>.
    </P>

    <P>
      Then start the decoder daemon with (make sure it is in your
      path): <em>lircd</em> [config file]
    </P>

    <P>
      The following program dumps the decoded key codes from lircd to
      stdout: <em>irw</em>
    </P>

    <P>
      This looks like this (depending on your remote):
    </P>
    <PRE>
        0000000000f40bf0 00 1_DOWN ANIMAX
        0000000000f40bf0 01 1_DOWN ANIMAX
        0000000000f40bf0 02 1_DOWN ANIMAX
        0000000000f40bf0 03 1_DOWN ANIMAX
        0000000000f40bf0 04 1_DOWN ANIMAX
        0000000000f40bf0 05 1_DOWN ANIMAX
        0000000000748bf0 00 1_UP ANIMAX
        0000000000748bf0 01 1_UP ANIMAX
        0000000000748bf0 02 1_UP ANIMAX
        0000000000718ef0 00 RED_BUTTON_UP ANIMAX</PRE>
    <P>
      If the driver test did work, but you now see nothing, then check
      <em>/var/log/lircd</em>, your syslog or journalctl depending on
      your system. If you still see nothing suspicious
      compile lircd in DEBUG mode and look at the log file again. In
      debug mode lircd has an additional command line option that lets
      you choose the detail level of debug information.
    </P>

    <A NAME="sending"></A><HR>
    <H1 ALIGN="CENTER">Sending infrared signals</H1>
    <HR WIDTH="70%">

    <P>
      The LIRC package contains the <A HREF="irsend.html">irsend</A> tool for
      sending infrared signals to e.g. your TV or CD player. For
      reliable transmission a good config file is even more important
      than for receiving. A discussion of all the infrared protocols
      is way beyond the scope of this manual but when creating a
      config file at least read the <A
        HREF="help.html#new_remote">hints</A> at the end of this
      manual. You can find exact timing specifications for most common
      inside the remotes/generic/ directory of the LIRC package.
    </P>
    <P>
      If you want a graphical interface for controlling your devices
      using LIRC, you should have a look at xrc. You can download the
      xrc package from the LIRC homepage. xrc is a Qt based
      program. Setting up xrc and Qt is a bit tricky so if you don't
      manage to compile it you can still use irsend. It has the full
      functionality you need.
    </P>

    <!-- Uninstall LIRC ++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <A NAME="uninstall"></A><HR>
    <H1 ALIGN="CENTER">Uninstall</H1>
    <HR WIDTH="70%">

    <UL>
      <LI>Remove the installed binaries, and device nodes:<BR>
        <BR>
        <em>make uninstall</em><BR>
        <BR>
      </LI>
      <LI>Remove the config files, if you don't need them anymore:<BR>
        <BR>
        <em>rm /etc/lirc/lircd.conf /etc/lirc/lircmd.conf /etc/lirc/lircrc ~/.lircrc</em><BR>
        <BR>
      </LI>
    </UL>

    <A NAME="updating054"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.5.4</H1>
    <HR WIDTH="70%">

    <P>
      This section only describes changes that break compatibility
      with older versions. Please read the <EM>NEWS</EM> file to learn
      about all new features of this release.
    </P>
    <P>
      The config files of <em>lircd</em> and <em>lircmd</em> are now
      located in <em>/usr/local/etc/</em> instead of <em>/etc/</em>
      per default. Most people prefer to make <em>/usr/local/etc/</em>
      a link to <em>/etc/</em>.
    </P>
    <P>
      The modules no longer are uniformly installed as <em>lirc.o</em>
      but are called lirc_<em>driver</em>.o depending on the driver
      you are using. Therefore you might have to edit your
      <em>/etc/conf.modules</em> and change the line
    </P>
    <PRE>
    alias char-major-61 lirc</PRE>
    <P>
      to whatever you need.
    </P>
    <P>
      LIRC now supports the Irman directly. <em>lirmand</em> is no
      longer necessary. Before installing this version you should call
      <NOBR><EM>rm /dev/lirc</EM></NOBR> to remove the FIFO that was
      used in lirc-0.5.4. <em>/dev/lirc</em> now should be a link to
      the device the Irman is connected to (e.g. <em>/dev/ttyS1</em>).
    </P>

    <A NAME="updating062"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.6.2</H1>
    <HR WIDTH="70%">

    <P>
      The lirc_gpio_p has been renamed to lirc_gpio. It now also
      contains support for TV cards that are able to generate
      interrupts if infra-red commands are received. The lirc_gpio_i
      driver that implemented this has been removed. The lirc_fly98
      also has been removed as it is now supported by the lirc_gpio
      driver.
    </P>

    <P>
      The <em>lirc_haup</em> module has been renamed to <em>lirc_i2c</em>.
    </P>

    <P>
      The transmit code in <em>lirc_serial</em> has been modified
      slightly. If you have problems transmitting decrease the
      frequency value in the lircd config file by approximately 2000.
    </P>

    <P>
      There have been major changes to the SIR driver. If you used
      this driver before you may have to generate new config files for
      your remotes. Transmitting is now more likely to work.
    </P>

    <P>
      The config file for the old AVerMedia TVCapture and TVPhone
      cards (pre 98) has changed. Please use the new config file that
      you can find in <em>remotes/avermedia/lircd.conf.avermedia</em>.
    </P>

    <A NAME="updating063"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.6.3</H1>
    <HR WIDTH="70%">

    <P>lircd.conf and lircmd.conf are in /etc again.</P>

    <P>
      Two independend bugs were fixed in the IRdeo and home-brew
      transmitter code that affected correct pulse/space timings in
      some situations. This might break config files that did work
      with previous versions.
    </P>

    <A NAME="updating064"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.6.4</H1>
    <HR WIDTH="70%">

    <P>
      AVerMedia TV cards with ID 0x00011461 and 0x00041461 should
      finally work with the provided config files. That means they
      will no longer work with the config files you have created
      yourself.
    </P>
    <P>
      The I/O base address for some modules now is set with the
      <em>io</em> parameter. (formerly: lirc_sir = iobase, lirc_serial
      and lirc_parallel = port).
    </P>

    <A NAME="updating065"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.6.5</H1>
    <HR WIDTH="70%">

    <P>
      The config file for the Pixelview PlayTV pro and compatible TV
      cards has changed. Please use the config file in
      <em>remotes/pixelview/lircd.conf.playtv_pro</em>.
    </P>
    <P>
      The config file for the Winfast TV2000 and compatible TV cards
      has changed. Please use the config file in
      <em>remotes/winfast/lircd.conf.tv2000</em>.
    </P>

    <A NAME="updating066"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.6.6</H1>
    <HR WIDTH="70%">

    <P>
      The config files for all FlyVideo TV cards have changed. Please
      use the config file in
      <em>remotes/life-view/lircd.conf.flyvideo</em>.
    </P>
    <P>
      The config file for the Winfast TV2000 TV card has
      changed. Please use the config file in
      <em>remotes/leadtek/lircd.conf.RM-0010</em>.
    </P>
    <P>
      The lirc_sir now should generate better signals for some
      remotes. Due to the change some old config files generated with
      previous versions of the driver might stop working. In this case
      you should just create a new config file using the new
      driver. If you want to get the old behaviour of the driver
      (deprecated) you can insert the module using the
      <em>threshold=2</em> parameter. The default of
      <em>threshold</em> is now set to 3. You might even want to try
      higher values.
    </P>
    <P>
      When you are using LIRC with the <B>Linux input layer</B>
      driver, make sure that your config file contains the following
      line in its header:
    </P>
    <pre>
        bits 32
    </pre>
    <P>
      Otherwise lircd will not recoginise any events.
    </P>


    <A NAME="updating07x"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.7.x</H1>
    <HR WIDTH="70%">

    <P>
      There is a new program that you probably want to use: <A
      HREF="lircrcd.html">lircrcd</a> reads the .lircrc config file
      and synchronises the mode that the LIRC clients using this
      config file (irexec, irxevent, etc.) are in. Using lircrcd has
      to be explicitly enabled in the config file by adding the
      following line at the beginning of the file:
<pre>
#! lircrcd
</pre>
    </P>


    <A NAME="updating081"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.8.1</H1>
    <HR WIDTH="70%">

    <P>
      The config file for the Pinnacle Systems PCTV (pro) receiver has
      changed. Please use the config file in
      <em>remotes/pinnacle_systems/lircd.conf.pctv</em>.
    </P>
    <P>
      The config file for the Creative Infra Receiver/CIMR100 has
      changed. Please use the config file in
      <em>remotes/creative/lircd.conf.creative</em>.
    </P>
    <A NAME="updating084"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.8.4</H1>
    <HR WIDTH="70%">

    <P>
      Newly added iMon LCD displays with device ids 15c2:0038 and 15c2:0045
      use a larger buffer to enable all remote and panel buttons. Consequently,
      config files for earlier iMon receivers are not compatible with these
      new devices, and vice versa. Be sure to select the appropriate 64-bit
      config for a newer iMon LCD. (Early cvs support for the 0038 used only
      a 32-bit buffer).
      <em>For the 0038: remotes/imon/lircd.conf.imon-ultrabay</em>.
      <em>For the 0045: remotes/imon/lircd.conf.imon-antec-veris</em>.
    </P>
    <P>
      The behaviour of the <em>quit</em> flag in the <A
        HREF="configure.html#lircrc_format">.lircrc</A> config file
      has changed slightly concerning button sequences. Previously the
      quit flag had no effect on button sequences which had partly
      been entered. Now the quit flag will make execution of further
      configurations stop even though just part of the button sequence
      has been entered.
    </P>
    <P>
      There was an interface change in the <em>lirc_dev</em> kernel
      module. If you get an error message like
<PRE>
lirc_serial: Unknown symbol lirc_unregister_driver
lirc_serial: Unknown symbol lirc_register_driver
</PRE>
    when trying to load any of the lirc kernel modules, then you have
    probably an old version of <em>lirc_dev</em> loaded. Make sure
    that the <em>lirc_dev</em> version that comes with this release is
    loaded.
    </P>

    <A NAME="updating085"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.8.5</H1>
    <HR WIDTH="70%">

    <P>
      The lircd socket was moved from <em>/dev/lircd</em> to
      <em>/var/run/lirc/lircd</em> to conform to the Filesystem Hierarchy
      Standard. The default pid file location was moved from
      <em>/var/run/lircd.pid</em> to <em>/var/run/lirc/lircd.pid</em>.
    </P>
    <P>
      The default location of lircd, lircmd and lircrcd config files
      was moved to <em>/etc/lirc/lircd.conf</em>,
      <em>/etc/lirc/lircmd.conf</em> and <em>/etc/lirc/lircrc</em>. If
      the config files are not found in that location, they are still
      searched at the old location in <em>/etc/</em>.
    </P>
    <P>
      The functionality of the <em>lirc_mceusb2</em> driver has been
      merged into the <em>lirc_mceusb</em> driver. The
      <em>lirc_mceusb2</em> driver is now obsolete and has been
      removed. You should use <em>lirc_mceusb</em> from now on.
    </P>
    <A NAME="updating091"></A><HR>
    <H1 ALIGN="CENTER">Updating from lirc-0.9.1</H1>
    <HR WIDTH="70%">
    <p>
     All kernel modules are removed from lirc. Most (but not all) are
     part of the regular Linux kernel or in the staging drivers area -
     the net result is that you should be able to use the modules
     without compiling them together with lirc in most cases.
    </p>
    <p>
     From this version user-space drivers are loaded dynamically on-demand.
     From an installation point of view this means that programs such
     as lircd needs to know the path to the directory where the
     compiled drivers lives. See e. g., the lircd manpage's section on
     DRIVER LOADING.
    </p>
    <p>
     In previous versions the setup.sh script was used to determine how to
     build lirc to support a specific remote. This script is now
     obsoleted, and lirc is always built with all available user-space
     drivers. Instead of this script just use autoreconf -fi; configure ...
     (see Installation above).
    <p>
     Earlier versions of lirc has been agnostic to init systems in different
     distributions. This version has explicit support for systemd. This
     should not break existing setups using sysV init scripts though. New
     configuration file lirc_options.conf also opens new ways to configure
     lirc, but will not break existing installation relying on command line
     options.
    </p>
     <p>
     From this version new scripts lirc-setup and lirc-install-configuration
     aids in the process to configure lirc for a particular remote. These
     partly replaces the old setup.sh script, but applies to the installed
     lirc rather than how to build it.
     </p>

